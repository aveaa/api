===
API
===
Этот репозиторий содержит модуль API, который используется в l-lacker social.

Методы и обработчики
=======================
`index.php` - обработчик запросов к API, принимает и `GET` и `POST`, остальные методы реализуются при помощи заголовка `X-Http-Method-Override`.

Каждый метод API лежит в отдельном файле в каталоге `methods`, сам обработчик метода - функция, имеющая идентичное имя.

POST запросы, обрабатываются по другому, их методы находятся а каталоге `methods/write`. Их обработчики называются по другому: `<HTTP_METHOD>_<API_METHOD>`.

Например, `put_messages, patch_message, delete_message`.

====================
DatabaseModel.php
====================
Без обид, но PDO говно. Вместо этого используется `mysqli`. Обёртка для `mysqli` называется DatabaseModel, она хорошо продокументирована. Но если вкратце, то:

* Выполнение запроса: `$db->query("SELECT * FROM users WHERE id=?", $id);`

* как Вы, возможно, уже поняли, стоит использовать плэйсхоледры (`?`) и их значения передать как аргумент. Это позволяет избежать SQL-инъекции.

* но, если у вас нет параметров используйте `query_raw()`

* Обработчик запросов создаёт переменную `$GLOBALS["DatabaseConnection"]` с подключением через DatabaseModel

* Документацию искать в самом файле `DatabaseModel.php`, она на английском.

* документация очень хорошо читается Eclipsом, PHPStromом и другими IDE. 
